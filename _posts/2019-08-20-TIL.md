---
layout: post
title:  "[TIL] 2019-08-20"
date:   2019-08-20 22:00:00
author: Seong-Kyu Yun
categories: [Today I Learned]












---

------

# Today I Learned (2019.08.20)







------

## ● JSP & Servlet



------

#### 1.  서블릿 메소드

------



------

##### 1-1. 사용자 데이터 전송방식

------



---

##### 1) get방식

---

> **URL창에 “ ? “ 뒤에 데이터를 입력하는 방법(쿼리스트링)으로 보냄
> 데이터가 여러 개일 경우 &로 묶어서 보냄
> 데이터 검색에 많이 사용, 데이터 크기 한계가 있으며, 보안에 취약함**







------

##### 2) post방식

---

> **HTTP해더의 내용으로 보내는 방식으로 데이터 크기에 제한이 없고, 헤더에
> 포함되어 보안이 뛰어남**



- **☞ Servlet이 두 방식 중 하나로 전달받으면 해당하는 매소드를 호출함
  html 에서 method속성을 이용해서 방식결정, default : get**









------

##### 1-2. 서블릿 매소드

------



------

##### 1) doGet

------

> **client에서 데이터를 전송 방식을 get방식으로 전송하게 되면 호출되는
> 메소드**





------

##### 2) doPost

---

> **client에서 데이터를 전송 방식을 Post방식으로 전송하게 되면 호출되는
> 메소드**

- **☞ 반드시 ServletException 처리해야 함.**







------

##### 1-3. 서블릿 매개변수 객체

------



----

##### 1) <span style="color:red">HttpServletRequest <small>(interface)</small></span>

----

> **HTTP Servlets을 위한 요청정보(request information)를 제공 메소드 지정
>     		<small>&#42;&#42; 인터페이스 구현은 컨테이너가 알아서 설정 / 메소드만 이용 &#42;&#42;</small>
> 상속 : javax.servlet.ServletRequest (interface) **

<table border="1">
    <tr>
        <th>메소드 명</th>
        <th>내 용</th>
    </tr>
    <tr>
        <td>getParameter(String)</td>
        <td>client가 보내준 값이 저장된 명칭이 매개
            변수와 같은 명칭에 저장된 값을 불러오
            는 매소드</td>
    </tr>
    <tr>
        <td>getParameterNames()</td>
        <td>client가 보내준 값을 저장한 명칭을 불러
            오는 매소드</td>
    </tr>
    <tr>
        <td>getParameterValues(String)</td>
        <td>client가 보내준 값이 여러개일 경우 그 값
            을 배열로 불러오는 메소드</td>
    </tr>
    <tr>
        <td>getParameterMap()</td>
        <td>client가 보내준 값이 전체를 Map방식으
            로 불러오는 매소드</td>
    </tr>
    <tr>
        <td><span style="color:red">setAttribute(String, Object)</span></td>
        <td>request객체에 전달하고 싶은 값을 String
            이름으로 Object저장하는 메소드</td>
    </tr>
    <tr>
        <td>getAttribute(String)</td>
        <td>매개변수와 동일한 객체 속성값 불어오는
            메소드</td>
    </tr>
    <tr>
        <td>removeAttribute(String)</td>
        <td>request객체에 저장되어 매개변수와 동일
            한 속성값 삭제하는 매소드</td>
    </tr>
    <tr>
        <td>setCharacterEncoding(String)</td>
        <td>전송 받은 request객체의 값들의
            CharaterSet을 설정해주는 매소드</td>
    </tr>
    <tr>
        <td><span style="color:red">getRequestDispatcher(String)</span></td>
        <td>컨테이너내에서 request, response객체를
            전송하여 처리할 컨포넌트(jsp파일 등)를
            불러오는 매소드로 forward()메소드와 같
            이 사용</td>
    </tr>
</table>







------

##### 2) <span style="color:red">HttpServletResponse <small>(interface)</small></span>

----

> **요청에 대한 처리결과를 작성하기 위해 사용하는 객체
>   		<small>&#42;&#42; 인터페이스 구현은 컨테이너가 알아서 설정 / 메소드만 이용 &#42;&#42;</small>
> 상속 : javax.servlet.ServletResponse (interface) **

<table border="1">
    <tr>
        <th>메소드 명</th>
        <th>내 용</th>
    </tr>
    <tr>
        <td>setContentType(String)</td>
        <td>응답으로 작성하는 페이지의 MIME type을
            정하는 매소드</td>
    </tr>
    <tr>
        <td>setCharacterEncoding(String)</td>
        <td>응답하는 데이터의 CharacterSet을 지정해주
            는 매소드</td>
    </tr>
    <tr>
        <td>getWriter()</td>
        <td>문자를 페이지에 전송을 위한 Stream을 가
            져오는 매소드</td>
    </tr>
    <tr>
        <td>getOutputStream()</td>
        <td>byte단위로 페이지에 전송을 위한 Stream을
            가져오는 매소드</td>
    </tr>
    <tr>
        <td>sendRedirect(String)</td>
        <td>client가 매개변수의 페이지를 다시 서버에
            요청하게 하는 매소드<br/>
            <span style="color:red">(주로 client에게 보낼 데이터가 없을 때)</span></td>
    </tr>
</table>





------

##### 1-4. <span style="color:red">sendRedirect VS RequestDispatcher</span>

------



------

##### 1) sendRedirect

---

> **client의 브라우저에게 매개변수로 등록한 페이지를 재요청하라고
> 응답해주는 것(301/302코드 전송) client가 별도로 다른 페이지 요청을
> 안해도 url주소(페이지)가 변경됨. 
> <small>&#42;&#42;브라우저가 알아서 서버에 해당 페이지를 요청 / 쿼리스트링으로 별도의
> 데이터를 전송하지 않으면 요청데이터가 없음</small>**

![](C:\git\reviday.github.io\_posts\images\2019\sendRedirect.PNG)





------

##### 2) RequestDispatcher() ~ forward()

---

> **컨테이너 내에서 처음 요청 받은 페이지가 요청 데이터
> (HttpServletRequest, HttpServletResponse)를 다른 페이지에 전송하여
> 처리를 요청을 하고 자신이 처리한 것처럼 하는 것. 
> url주소(페이지)가 변경되지 않음.**

![](C:\git\reviday.github.io\_posts\images\2019\RequestDispatcher.png)





------

##### 1-5. 서블릿 데이터 공유

------



------

##### 1) 객체별 공유 데이터 설정

---

<table border="1">
    <tr>
        <th>객 체</th>
        <th>사용 메소드</th>
        <th>내용</th>
    </tr>
    <tr>
        <th rowspan="4">ServletContext<br/>
            ServletRequest<br/>
            HttpSession</th>
        <td>setAttribute(String,Object)</td>
        <td>공유값을 저장</td>
    </tr>
    <tr>
        <td>getAttribute(String) </td>
        <td>공유값을 불러옴</td>
    </tr>
    <tr>
        <td>getAttributeName()</td>
        <td>공유값 전체를 불러옴</td>
    </tr>
    <tr>
        <td>removeAttribute(String)</td>
        <td>공유값 자체를 지움</td>
    </tr>
</table>

​      **&#42;&#42;공유값은 Map형식으로 저장됨. **

